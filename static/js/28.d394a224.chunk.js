(self.webpackChunkreact_deploy=self.webpackChunkreact_deploy||[]).push([[28],{2119:function(e){e.exports={BASE_URL:"https://sinalacare-api.neonauby.com/api/v1"}},9028:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return g}});var n=s(9439),t=s(2791),i=s(7689),o=s(4554),l=s(890),r=s(2256),c=s(5294),d=s(7559),u=s.n(d),m=s(2119),p=s.n(m),f=(s(1842),s(1413)),h=s(184);var _=function(e){var a,s=e.label,i=e.idx,o=e.refCheckBoxJawaban,l=e.refSetCheckBoxJawaban,r=e.idxSoal,c=e.opsi,d=e.soal,u=(0,t.useState)(!1),m=(0,n.Z)(u,2),p=m[0],_=m[1],b=(0,t.useState)({}),g=(0,n.Z)(b,2),x=g[0],j=g[1],v=(0,t.useState)([]),w=(0,n.Z)(v,2),k=w[0],y=w[1],S=(0,t.useState)(""!=o[r].jawaban[i]),N=(0,n.Z)(S,2),Z=N[0],E=N[1];return(0,t.useEffect)((function(){if(o[r].nested_jawaban){var e,a=Object.keys(null===(e=o[r])||void 0===e?void 0:e.nested_jawaban).map((function(e){return o[r].nested_jawaban[e]}));""!=a.jawaban&&(y(a),d.assesment_mapping_assesment_mapping_parent_assesment_idToassesment.forEach((function(e){var s;if(a[i].id==(null===e||void 0===e||null===(s=e.assesment_assesment_mapping_assesment_idToassesment)||void 0===s?void 0:s.id)){var n=(0,f.Z)((0,f.Z)({},e.assesment_assesment_mapping_assesment_idToassesment),{},{opsi_jawaban:e.opsi,opsi_jawaban_index:i});j(n),_(!0)}})))}}),[]),(0,t.useEffect)((function(){if(o[r].nested_jawaban){var e,a=Object.keys(null===(e=o[r])||void 0===e?void 0:e.nested_jawaban).map((function(e){return o[r].nested_jawaban[e]}));""!=a.jawaban&&(y(a),d.assesment_mapping_assesment_mapping_parent_assesment_idToassesment.forEach((function(e){var s;if(a[i].id==(null===e||void 0===e||null===(s=e.assesment_assesment_mapping_assesment_idToassesment)||void 0===s?void 0:s.id)){var n=(0,f.Z)((0,f.Z)({},e.assesment_assesment_mapping_assesment_idToassesment),{},{opsi_jawaban:e.opsi,opsi_jawaban_index:i});j(n),_(!0)}})))}}),[Z]),(0,h.jsx)("div",{className:"flex items-center",children:(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("input",{defaultChecked:Z,onChange:function(e){!function(e){if(e){var a=o;a[r].jawaban[i]=c,l(a)}else{var s=o;s[r].jawaban[i]="",s[r].nested_jawaban&&(s[r].nested_jawaban[x.id].jawaban=""),l(s)}E((function(e){return!e}))}(e.target.checked)},id:"checked-checkbox-"+i,type:"checkbox",value:Z,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,h.jsx)("label",{htmlFor:"checked-checkbox-"+i,className:"ml-2 text-md font-large text-gray-900",children:s})]}),p&&(0,h.jsx)("div",{className:"pl-10 pt-1",children:null===x||void 0===x||null===(a=x.assesment_opsi)||void 0===a?void 0:a.map((function(e,a){return console.log("refChildJawaban[i]"),console.log(k[a]),console.log(o[r].nested_jawaban),console.log(o[r].nested_jawaban[x.id]),console.log(o[r].nested_jawaban[x.id].jawaban),(0,h.jsx)("div",{className:"flex items-center",children:(0,h.jsx)("div",{className:"flex flex-col",children:(0,h.jsxs)("div",{children:[(0,h.jsx)("input",{checked:o[r].nested_jawaban[x.id].jawaban===e.key_opsi,defaultChecked:o[r].nested_jawaban[x.id].jawaban==e.key_opsi,onChange:function(e){!function(e,a){var s=o;s[r].nested_jawaban[a].jawaban=e.target.value,l(s),console.log("FIRE"),console.log(s[r].nested_jawaban[a])}(e,x.id)},id:"checked-checkbox-"+"".concat(e.key_opsi,"-").concat(x.id),name:"opsi_nested_"+x.id,type:"radio",value:e.key_opsi,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,h.jsx)("label",{htmlFor:"checked-checkbox-"+"".concat(e.key_opsi,"-").concat(x.id),className:"ml-2 text-md font-large text-gray-900 cursor-pointer",onClick:function(){},children:e.label_opsi})]})})},e.key_opsi)}))})]})})};var b={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function g(){var e,a=t.useState(!1),s=(0,n.Z)(a,2),d=s[0],m=s[1],f=((0,i.s0)(),(0,t.useState)({})),g=(0,n.Z)(f,2),x=g[0],j=g[1],v=(0,t.useState)({}),w=(0,n.Z)(v,2),k=(w[0],w[1],(0,t.useState)({})),y=(0,n.Z)(k,2),S=y[0],N=(y[1],(0,t.useState)(null)),Z=(0,n.Z)(N,2),E=Z[0],C=Z[1],T=(0,t.useState)([]),A=(0,n.Z)(T,2),B=A[0],U=A[1],F=(0,t.useState)(0),J=(0,n.Z)(F,2),R=J[0],L=J[1],O=(0,t.useState)(B[R]),z=(0,n.Z)(O,2),I=z[0],K=z[1],M=(0,t.useState)("Selanjutnya"),q=(0,n.Z)(M,2),D=(q[0],q[1]),G=(0,t.useState)(0),H=(0,n.Z)(G,2),P=(H[0],H[1],(0,t.useState)(0)),Q=(0,n.Z)(P,2),V=Q[0],W=(Q[1],(0,t.useState)({})),X=(0,n.Z)(W,2),Y=X[0],$=X[1],ee=(0,t.useState)(B.length),ae=(0,n.Z)(ee,2),se=(ae[0],ae[1]),ne=(0,t.useState)(0),te=(0,n.Z)(ne,2),ie=(te[0],te[1]),oe=(0,t.useState)((100*(R+1/B.length)).toFixed(0)),le=(0,n.Z)(oe,2),re=(le[0],le[1]),ce=(0,t.useState)(0),de=(0,n.Z)(ce,2),ue=(de[0],de[1]),me=(0,t.useState)(""),pe=(0,n.Z)(me,2),fe=pe[0],he=pe[1],_e=(0,i.UO)().studiKasus;function be(e,a,s){var n=Y;n[e].jawaban=a,$.bind(this,n),C(s)}return(0,t.useEffect)((function(){ue()}),[Y]),(0,t.useEffect)((function(){R==B.length-1?D("Selesai"):D("Selanjutnya")}),[S]),(0,t.useEffect)((function(){R==B.length-1?D("Selesai"):D("Selanjutnya")}),[R]),(0,t.useEffect)((function(){I&&I.assesment_mapping_assesment_mapping_parent_assesment_idToassesment&&I.assesment_mapping_assesment_mapping_parent_assesment_idToassesment.length>0&&I.assesment_mapping_assesment_mapping_parent_assesment_idToassesment.forEach((function(e){console.log(e)}))}),[E]),(0,t.useEffect)((function(){var e=u().getToken();c.Z.get("".concat(p().BASE_URL,"/assesment/").concat(_e,"/soal"),{headers:{Authorization:"Bearer "+e}}).then((function(e){var a=e.data.data,s={},n={};a.forEach((function(e,a){var t={id:e.id,jawaban:""};e.assesment_mapping_assesment_mapping_parent_assesment_idToassesment.length>0&&(t.nested_jawaban={},e.assesment_mapping_assesment_mapping_parent_assesment_idToassesment.forEach((function(e){t.nested_jawaban[e.assesment_assesment_mapping_assesment_idToassesment.id]={id:e.assesment_assesment_mapping_assesment_idToassesment.id,opsi:e.opsi,jawaban:""},n[e.assesment_assesment_mapping_assesment_idToassesment.id]=e.assesment_assesment_mapping_assesment_idToassesment}))),"multi_opsi"==e.tipe_soal&&(t.jawaban=Array(e.assesment_opsi.length).fill("")),s[e.id]=t})),$(s),U(a),re(0/a.length),se(a.length),K(a[0]),L(0)})).catch((function(e){console.error(e)})),c.Z.get("".concat(p().BASE_URL,"/profile-mahasiswa"),{headers:{Authorization:"Bearer "+e}}).then((function(e){var a=e.data.data;j(a)})).catch((function(e){console.error(e)})),c.Z.get("".concat(p().BASE_URL,"/studi_kasus/").concat(_e,"/header"),{headers:{Authorization:"Bearer "+e}}).then((function(e){var a,s=e.data.data;he((a=s.nama).charAt(0).toUpperCase()+a.slice(1))})).catch((function(e){console.error(e)}))}),[]),(0,t.useEffect)((function(){}),[R]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("section",{className:"absolute top-0 w-full h-screen bg-slate-100",children:[(0,h.jsxs)("div",{className:"py-6 bg-gray-900 text-center text-white",children:["Assesment ",fe]}),(0,h.jsxs)("div",{className:"w-full flex flex-col sm:flex-row flex-grow overflow-hidden bg-blue-500",children:[(0,h.jsx)("main",{role:"main",className:"w-full flex-grow p-4 overflow-auto bg-slate-100 text-gray-700",children:(0,h.jsxs)("div",{className:"h-full w-full bg-white p-6 rounded text-lg max-h-[80vh] flex flex-col space-y-5 overflow-y-auto",children:[R!=B.length-1&&(0,h.jsx)("div",{className:"w-full flex justify-end",children:(0,h.jsx)("button",{className:"w-[240px]justify-end text-center bg-blue-500 hover:bg-slate-200 text-white hover:text-gray-600 border-1 border-neutral-700 hover:border-neutral-500 font-bold py-2 px-4 rounded inline-flex items-center",type:"button",onClick:function(){var e=R+1;e<B.length&&(L(e),K(B[e]),ie(e+1),re(((e+1)/B.length*100).toFixed(2)),e==B.length-1&&D("Selesai"))},children:(0,h.jsx)("span",{className:"text-center w-full",children:"Selanjutnya"})})}),(0,h.jsx)("div",{className:"underline",children:null===I||void 0===I?void 0:I.pertanyaan}),(0,h.jsx)("div",{children:null===I||void 0===I?void 0:I.deskripsi}),null===I||void 0===I?void 0:I.assesment_opsi.map((function(e,a){return"multi_opsi"==I.tipe_soal?(0,h.jsx)(_,{opsi:e.key_opsi,idx:a,label:e.label_opsi,refCheckBoxJawaban:Y,refSetCheckBoxJawaban:$,idxSoal:I.id,soal:I},"".concat(e.key_opsi,"-").concat(I.id)):(0,h.jsx)("div",{className:"flex items-center",children:(0,h.jsx)("div",{className:"flex flex-col",children:(0,h.jsxs)("div",{children:[(0,h.jsx)("input",{checked:Y[I.id].jawaban===e.key_opsi,onChange:function(s){be(I.id,e.key_opsi,a)},id:"checked-checkbox-"+"".concat(e.key_opsi,"-").concat(I.id),name:"opsi",type:"radio",value:e.key_opsi,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,h.jsx)("label",{htmlFor:"checked-checkbox-"+"".concat(e.key_opsi,"-").concat(I.id),className:"ml-2 text-md font-large text-gray-900 cursor-pointer",onClick:function(){be(I.id,e.key_opsi,a)},children:e.label_opsi})]})})},e.key_opsi)}))]})}),(0,h.jsx)("div",{className:"sm:w-1/3 md:1/4 w-full flex-shrink flex-grow-0 p-4 bg-slate-100",children:(0,h.jsxs)("div",{className:"sticky p-4 w-full rounded bg-white h-[80vh] text-gray-700 flex flex-col justify-between",children:[(0,h.jsx)("div",{className:"grid grid-cols-4 gap-2",children:null===B||void 0===B?void 0:B.map((function(e,a){var s=e.id,n=e.pertanyaan,t=e.tipe_soal;var i="";if("multi_opsi"==t){var o=[];B[a].assesment_opsi.forEach((function(e,a){o.push(e.key_opsi)})),function(e,a){return a.forEach((function(a,s){if(e.indexOf(a)>-1)return!0})),!1}(Y[s].jawaban,o)&&(i=" bg-yellow-500 text-white")}else Y[s].jawaban&&(i=" bg-green-500 text-white");return a==R&&(i=" bg-purple-500 text-white"),(0,h.jsx)("button",{className:"w-14 h-14 p-4 border-4"+i,onClick:function(){K(B[a]),L(a),$(Y)},children:a+1},s)}))}),(0,h.jsx)("button",{className:"text-center bg-red-500 hover:bg-slate-200 text-white hover:text-gray-600 border-1 border-neutral-700 hover:border-neutral-500 font-bold py-2 px-4 rounded inline-flex items-center",type:"button",onClick:function(){console.log(Y)},children:(0,h.jsx)("span",{className:"text-center w-full",children:"Akhiri Ujian"})})]})})]})]}),(0,h.jsx)("section",{className:"absolute top-0 right-0 p-4 text-white",id:"header-mahasiswa",children:(0,h.jsxs)("div",{className:"flex justify-end",children:[(0,h.jsxs)("div",{className:"pr-5",children:[(0,h.jsx)("p",{children:x.nama}),(0,h.jsx)("p",{children:x.nim})]}),(0,h.jsx)("img",{alt:"Avatar Mahasiswa",src:null!==(e=null===x||void 0===x?void 0:x.imageUrl)&&void 0!==e?e:"https://ui-avatars.com/api/?background=random&name=Avatar",className:"img-avatar-kasus rounded-full h-[45px]"})]})}),(0,h.jsx)(r.Z,{open:d,onClose:function(){return m(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,h.jsxs)(o.Z,{sx:b,children:[(0,h.jsx)(l.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Terima kasih"}),(0,h.jsxs)(l.Z,{id:"modal-modal-description",sx:{mt:2},children:["Nilai anda : ",V]})]})})]})}}}]);
//# sourceMappingURL=28.d394a224.chunk.js.map