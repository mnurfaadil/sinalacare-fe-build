(self.webpackChunkreact_deploy=self.webpackChunkreact_deploy||[]).push([[28],{2119:function(e){e.exports={BASE_URL:"https://sinalacare-api.neonauby.com/api/v1"}},9028:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return g}});var t=s(9439),n=s(2791),i=s(7689),r=s(4554),l=s(890),o=s(2256),c=s(5294),d=s(7559),u=s.n(d),m=s(2119),h=s.n(m),p=(s(1842),s(184));var f=function(e){var a=e.label,s=e.idx,i=e.refCheckBoxJawaban,r=e.refSetCheckBoxJawaban,l=e.idxSoal,o=e.opsi,c=(0,n.useState)(""!=i[l].jawaban[s]),d=(0,t.Z)(c,2),u=d[0],m=d[1];return(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("input",{defaultChecked:u,onChange:function(e){if(e.target.checked){var a=i;a[l].jawaban[s]=o,r(a)}else{var t=i;t[l].jawaban[s]="",r(t)}m((function(e){return!e}))},id:"checked-checkbox-"+s,type:"checkbox",value:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,p.jsx)("label",{htmlFor:"checked-checkbox-"+s,className:"ml-2 text-md font-large text-gray-900",children:a})]})};var x={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function g(){var e,a=n.useState(!1),s=(0,t.Z)(a,2),d=s[0],m=s[1],g=((0,i.s0)(),(0,n.useState)({})),b=(0,t.Z)(g,2),_=b[0],v=b[1],j=(0,n.useState)({}),w=(0,t.Z)(j,2),y=(w[0],w[1],(0,n.useState)({})),k=(0,t.Z)(y,2),S=k[0],N=(k[1],(0,n.useState)(null)),Z=(0,t.Z)(N,2),C=Z[0],E=Z[1],A=(0,n.useState)([]),T=(0,t.Z)(A,2),B=T[0],U=T[1],F=(0,n.useState)(0),J=(0,t.Z)(F,2),L=J[0],R=J[1],z=(0,n.useState)(B[L]),O=(0,t.Z)(z,2),K=O[0],M=O[1],q=(0,n.useState)("Selanjutnya"),D=(0,t.Z)(q,2),G=(D[0],D[1]),H=(0,n.useState)(0),I=(0,t.Z)(H,2),P=(I[0],I[1],(0,n.useState)(0)),Q=(0,t.Z)(P,2),V=Q[0],W=(Q[1],(0,n.useState)({})),X=(0,t.Z)(W,2),Y=X[0],$=X[1],ee=(0,n.useState)(B.length),ae=(0,t.Z)(ee,2),se=(ae[0],ae[1]),te=(0,n.useState)(0),ne=(0,t.Z)(te,2),ie=(ne[0],ne[1]),re=(0,n.useState)((100*(L+1/B.length)).toFixed(0)),le=(0,t.Z)(re,2),oe=(le[0],le[1]),ce=(0,n.useState)(0),de=(0,t.Z)(ce,2),ue=(de[0],de[1]),me=(0,n.useState)(""),he=(0,t.Z)(me,2),pe=he[0],fe=he[1],xe=(0,i.UO)().studiKasus;function ge(e,a,s){var t=Y;t[e].jawaban=a,$.bind(this,t),E(s)}return(0,n.useEffect)((function(){ue()}),[Y]),(0,n.useEffect)((function(){L==B.length-1?G("Selesai"):G("Selanjutnya")}),[S]),(0,n.useEffect)((function(){L==B.length-1?G("Selesai"):G("Selanjutnya")}),[L]),(0,n.useEffect)((function(){K&&K.assesment_mapping_assesment_mapping_parent_assesment_idToassesment&&K.assesment_mapping_assesment_mapping_parent_assesment_idToassesment.length>0&&K.assesment_mapping_assesment_mapping_parent_assesment_idToassesment.forEach((function(e){console.log(e)}))}),[C]),(0,n.useEffect)((function(){var e=u().getToken();c.Z.get("".concat(h().BASE_URL,"/assesment/").concat(xe,"/soal"),{headers:{Authorization:"Bearer "+e}}).then((function(e){var a=e.data.data,s={},t={};a.forEach((function(e,a){var n={id:e.id,jawaban:""};e.assesment_mapping_assesment_mapping_parent_assesment_idToassesment.length>0&&(n.nested_jawaban={},e.assesment_mapping_assesment_mapping_parent_assesment_idToassesment.forEach((function(e){n.nested_jawaban[e.assesment_assesment_mapping_assesment_idToassesment.id]={id:e.assesment_assesment_mapping_assesment_idToassesment.id,opsi:e.opsi,jawaban:""},t[e.assesment_assesment_mapping_assesment_idToassesment.id]=e.assesment_assesment_mapping_assesment_idToassesment}))),"multi_opsi"==e.tipe_soal&&(n.jawaban=Array(e.assesment_opsi.length).fill("")),s[e.id]=n})),$(s),U(a),oe(0/a.length),se(a.length),M(a[0]),R(0)})).catch((function(e){console.error(e)})),c.Z.get("".concat(h().BASE_URL,"/profile-mahasiswa"),{headers:{Authorization:"Bearer "+e}}).then((function(e){var a=e.data.data;v(a)})).catch((function(e){console.error(e)})),c.Z.get("".concat(h().BASE_URL,"/studi_kasus/").concat(xe,"/header"),{headers:{Authorization:"Bearer "+e}}).then((function(e){var a,s=e.data.data;fe((a=s.nama).charAt(0).toUpperCase()+a.slice(1))})).catch((function(e){console.error(e)}))}),[]),(0,n.useEffect)((function(){}),[L]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("section",{className:"absolute top-0 w-full h-screen bg-slate-100",children:[(0,p.jsxs)("div",{className:"py-6 bg-gray-900 text-center text-white",children:["Assesment ",pe]}),(0,p.jsxs)("div",{className:"w-full flex flex-col sm:flex-row flex-grow overflow-hidden bg-blue-500",children:[(0,p.jsx)("main",{role:"main",className:"w-full flex-grow p-4 overflow-auto bg-slate-100 text-gray-700",children:(0,p.jsxs)("div",{className:"h-full w-full bg-white p-6 rounded text-lg max-h-[80vh] flex flex-col space-y-5 overflow-y-auto",children:[(0,p.jsx)("div",{className:"w-full flex justify-end",children:(0,p.jsx)("button",{className:"w-[240px]justify-end text-center bg-blue-500 hover:bg-slate-200 text-white hover:text-gray-600 border-1 border-neutral-700 hover:border-neutral-500 font-bold py-2 px-4 rounded inline-flex items-center",type:"button",onClick:function(){var e=L+1;e<B.length&&(R(e),M(B[e]),ie(e+1),oe(((e+1)/B.length*100).toFixed(2)),e==B.length-1&&G("Selesai"))},children:(0,p.jsx)("span",{className:"text-center w-full",children:"Selanjutnya"})})}),(0,p.jsx)("div",{className:"underline",children:null===K||void 0===K?void 0:K.pertanyaan}),(0,p.jsx)("div",{children:null===K||void 0===K?void 0:K.deskripsi}),null===K||void 0===K?void 0:K.assesment_opsi.map((function(e,a){return"multi_opsi"==K.tipe_soal?(0,p.jsx)(f,{opsi:e.key_opsi,idx:a,label:e.label_opsi,refCheckBoxJawaban:Y,refSetCheckBoxJawaban:$,idxSoal:K.id},"".concat(e.key_opsi,"-").concat(K.id)):(0,p.jsx)("div",{className:"flex items-center",children:(0,p.jsxs)("div",{className:"flex flex-col",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("input",{checked:Y[K.id].jawaban===e.key_opsi,onChange:function(s){ge(K.id,e.key_opsi,a)},id:"checked-checkbox-"+"".concat(e.key_opsi,"-").concat(K.id),name:"opsi",type:"radio",value:e.key_opsi,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,p.jsx)("label",{htmlFor:"checked-checkbox-"+e.key_opsi,className:"ml-2 text-md font-large text-gray-900 cursor-pointer",onClick:function(){ge(K.id,e.key_opsi,a)},children:e.label_opsi})]}),(0,p.jsx)("div",{children:Y&&K&&C&&Y[K.id].jawaban&&Y[K.id].jawaban[C]&&(null===(s=K.assesment_mapping_assesment_mapping_parent_assesment_idToassesment)||void 0===s?void 0:s.length)>0&&(0,p.jsx)("div",{className:"flex items-center",children:"Anakan |"})})]})},e.key_opsi);var s}))]})}),(0,p.jsx)("div",{className:"sm:w-1/3 md:1/4 w-full flex-shrink flex-grow-0 p-4 bg-slate-100",children:(0,p.jsxs)("div",{className:"sticky p-4 w-full rounded bg-white h-[80vh] text-gray-700 flex flex-col justify-between",children:[(0,p.jsx)("div",{className:"grid grid-cols-4 gap-2",children:null===B||void 0===B?void 0:B.map((function(e,a){var s=e.id,t=e.pertanyaan,n=e.tipe_soal;var i="";if("multi_opsi"==n){var r=[];B[a].assesment_opsi.forEach((function(e,a){r.push(e.key_opsi)})),function(e,a){return a.forEach((function(a,s){if(e.indexOf(a)>-1)return!0})),!1}(Y[s].jawaban,r)&&(i=" bg-yellow-500 text-white")}else Y[s].jawaban&&(i=" bg-green-500 text-white");return a==L&&(i=" bg-purple-500 text-white"),(0,p.jsx)("button",{className:"w-14 h-14 p-4 border-4"+i,onClick:function(){M(B[a]),R(a),$(Y)},children:a+1},s)}))}),(0,p.jsx)("button",{className:"text-center bg-red-500 hover:bg-slate-200 text-white hover:text-gray-600 border-1 border-neutral-700 hover:border-neutral-500 font-bold py-2 px-4 rounded inline-flex items-center",type:"button",onClick:function(){console.log(Y)},children:(0,p.jsx)("span",{className:"text-center w-full",children:"Akhiri Ujian"})})]})})]})]}),(0,p.jsx)("section",{className:"absolute top-0 right-0 p-4 text-white",id:"header-mahasiswa",children:(0,p.jsxs)("div",{className:"flex justify-end",children:[(0,p.jsxs)("div",{className:"pr-5",children:[(0,p.jsx)("p",{children:_.nama}),(0,p.jsx)("p",{children:_.nim})]}),(0,p.jsx)("img",{alt:"Avatar Mahasiswa",src:null!==(e=null===_||void 0===_?void 0:_.imageUrl)&&void 0!==e?e:"https://ui-avatars.com/api/?background=random&name=Avatar",className:"img-avatar-kasus rounded-full h-[45px]"})]})}),(0,p.jsx)(o.Z,{open:d,onClose:function(){return m(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,p.jsxs)(r.Z,{sx:x,children:[(0,p.jsx)(l.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Terima kasih"}),(0,p.jsxs)(l.Z,{id:"modal-modal-description",sx:{mt:2},children:["Nilai anda : ",V]})]})})]})}}}]);
//# sourceMappingURL=28.c06063c0.chunk.js.map